{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\min2\\\\src\\\\Pages\\\\FileEditor.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { useRef, useState } from \"react\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst FileEditor = () => {\n  _s();\n\n  const dropBox = useRef();\n  const img_box = useRef();\n  const [file, setFile] = useState(\"\");\n  useEffect(() => {\n    preview();\n    return () => preview();\n  });\n\n  const preview = () => {\n    if (!file) return false;\n    const imgEl = img_box;\n    const reader = new FileReader();\n\n    reader.onLoad = () => imgEl.style.backgroundImage = `urL(${reader.result})`;\n\n    reader.readAsDataURL(file[0]);\n  };\n\n  function handleFiles(f) {\n    //input으로 들어온 파일 처리하는 함수\n    const newfile = f.target.files;\n    setFile(newfile);\n    console.log(file);\n  }\n\n  function handleClick(e) {\n    //저장하기 버튼 클릭시 \n    const formdata = new FormData();\n    formdata.append('uploadImage', file[0]);\n    console.log(formdata);\n    const config = {\n      Headers: {\n        'content-type': 'multipart/form-data'\n      }\n    };\n    axios.post('api', formdata, config); //api대신 URL주소\n    //\n  }\n\n  function handleDragEnter(e) {\n    e.stopPropagation();\n    e.preventDefault();\n  }\n\n  function handleDragOver(e) {\n    e.stopPropagation();\n    e.preventDefault();\n  }\n\n  function handleDrop(e) {\n    //DropBox로 들어온 파일 처리하는 함수\n    e.stopPropagation();\n    e.preventDefault();\n    const newfile = e.dataTransfer.files; //배열\n\n    setFile(newfile);\n    console.log(newfile);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-center font-bold text-lg\",\n        children: \"\\uD30C\\uC77C \\uBD88\\uB7EC\\uC624\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        id: \"input\",\n        accept: \"img/*\",\n        onChange: handleFiles\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-slate-200 h-52 text-center\",\n      onDragEnter: handleDragEnter,\n      onDragOver: handleDragOver,\n      onDrop: handleDrop,\n      ref: dropBox,\n      children: \"\\uB4DC\\uB86D\\uBC15\\uC2A4 \\uC548\\uC5D0 \\uC0AC\\uC9C4\\uC744 \\uC62E\\uACA8\\uC8FC\\uC138\\uC694!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \" bg-red-400 decoration-white w-28  h-10 text-center font-semibold rounded-full text-slate-50\",\n        onClick: handleClick,\n        children: \" \\uC800\\uC7A5\\uD558\\uAE30 \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: img_box\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }, this);\n};\n\n_s(FileEditor, \"zgrliKnF1w9BwDl0Q1Yp2IZCXag=\");\n\n_c = FileEditor;\nexport default FileEditor;\n\nvar _c;\n\n$RefreshReg$(_c, \"FileEditor\");","map":{"version":3,"names":["React","useEffect","useRef","useState","axios","FileEditor","dropBox","img_box","file","setFile","preview","imgEl","reader","FileReader","onLoad","style","backgroundImage","result","readAsDataURL","handleFiles","f","newfile","target","files","console","log","handleClick","e","formdata","FormData","append","config","Headers","post","handleDragEnter","stopPropagation","preventDefault","handleDragOver","handleDrop","dataTransfer"],"sources":["C:/Users/User/min2/src/Pages/FileEditor.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport {useRef, useState} from \"react\";\r\nimport axios from 'axios';\r\nconst FileEditor = () => {\r\n    const dropBox=useRef();\r\n    const img_box = useRef();\r\n    const [file, setFile] = useState(\"\");\r\n    \r\n    useEffect( () => {\r\n        preview();\r\n        return () => preview();\r\n    });\r\n\r\n    const preview = () => {\r\n        if(!file) return false;\r\n\r\n        const imgEl = img_box;\r\n        const reader = new FileReader;\r\n\r\n        reader.onLoad = () => (\r\n            imgEl.style.backgroundImage = `urL(${reader.result})`\r\n        );\r\n        reader.readAsDataURL(file[0]);\r\n    };\r\n    \r\n    function handleFiles(f){\r\n        //input으로 들어온 파일 처리하는 함수\r\n        const newfile = f.target.files;\r\n        setFile(newfile);\r\n        console.log(file);\r\n    }\r\n    function handleClick(e){\r\n        //저장하기 버튼 클릭시 \r\n        const formdata = new FormData();\r\n        formdata.append('uploadImage', file[0]);\r\n        console.log(formdata);\r\n        const config = {\r\n            Headers: {\r\n                'content-type' : 'multipart/form-data',\r\n            },\r\n        };\r\n        axios.post('api', formdata,config); //api대신 URL주소\r\n        //\r\n    \r\n    }\r\n\r\n    function handleDragEnter(e){\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n    }\r\n    function handleDragOver(e){\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n    }\r\n    function handleDrop(e){\r\n        //DropBox로 들어온 파일 처리하는 함수\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n        \r\n        const newfile = e.dataTransfer.files; //배열\r\n        setFile(newfile);\r\n        console.log(newfile);\r\n    }\r\n    return (\r\n        <div>\r\n            <header>\r\n                <h1 className=\"text-center font-bold text-lg\">파일 불러오기</h1>\r\n            </header>\r\n            <div>\r\n            <input \r\n                type=\"file\"\r\n                id=\"input\"\r\n                accept=\"img/*\"\r\n                onChange={handleFiles}\r\n                />\r\n            </div>\r\n            \r\n            <div\r\n                className=\"bg-slate-200 h-52 text-center\"\r\n                onDragEnter={handleDragEnter}\r\n                onDragOver= {handleDragOver}\r\n                onDrop = {handleDrop}\r\n                ref={dropBox}>\r\n                드롭박스 안에 사진을 옮겨주세요!\r\n            </div>\r\n\r\n            <div\r\n                className=\"flex justify-center\">\r\n            <button \r\n            className=\" bg-red-400 decoration-white w-28  h-10 text-center font-semibold rounded-full text-slate-50\"\r\n            onClick={handleClick}> 저장하기 </button>\r\n            </div>\r\n            <div ref={img_box}>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FileEditor;"],"mappings":"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"},"metadata":{},"sourceType":"module"}